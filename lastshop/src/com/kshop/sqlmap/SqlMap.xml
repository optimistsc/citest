<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Kshop">
	<typeAlias alias="Member" type="com.kshop.shop.model.MemberDto"/>
	<typeAlias alias="Category1" type="com.kshop.shop.model.Fir_CategoryDto"/>
	<typeAlias alias="Category2" type="com.kshop.shop.model.Sec_CategoryDto"/>
	<typeAlias alias="Category3" type="com.kshop.shop.model.Thr_CategoryDto"/>
	<typeAlias alias="itemDto" type="com.kshop.shop.model.ItemDto"/>
	<typeAlias alias="itemOptionDto" type="com.kshop.shop.model.ItemOptionDto"/>

  <!-- Use type aliases to avoid typing the full classname every time. -->

  

  <!-- Result maps describe the mapping between the columns returned
       from a query, and the class properties.  A result map isn't
       necessary if the columns (or aliases) match to the properties 
       exactly. -->
 <select id="getFir_Category" resultClass="Category1">
  select *
  from fir_category
 </select>
 
  <select id="getSec_Category" resultClass="Category2">
  select *
  from sec_category
 </select>
 
  <select id="getThr_Category" resultClass="Category3">
  select *
  from thr_category
  order by thr_name
 </select>

 <select id="userinfo" parameterClass="java.util.Map"  resultClass="Member">
  select *
  from member
  where id = #id# and pw = #pass#
 </select>
 
 <insert id="itemDtoInsert" parameterClass="itemDto">
  insert into item_info (item_code, item_name, company, country, brand, importation, meterial, attention, price, s_picture, b_picture, thr_code)
  values(item_code_seq.nextval, #item_name#, #company#, #country#, #brand#, #importation#, #meterial#, #attention#, #price#, #s_picture#, #b_picture#, #thr_code#)
 </insert>
  
 <insert id="optionDtoInsert" parameterClass="itemOptionDto">
  insert into item_option (opt_code, item_code, item_size, item_color, item_ea)
  values(#opt_code#, #ref_code#, #item_size#, #item_color#, #item_ea#)
 </insert>
 
 <select id="nowRefItemcode" resultClass="int">
  select item_code_seq.currval
  from dual
 </select> 

</sqlMap>